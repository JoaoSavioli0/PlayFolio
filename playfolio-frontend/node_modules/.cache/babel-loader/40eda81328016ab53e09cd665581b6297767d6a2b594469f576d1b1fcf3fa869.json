{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport axios from 'axios';\nimport InfoComponent from '@/components/InfoComponent.vue';\nimport BannerComponent from '@/components/BannerComponent.vue';\nimport NavbarComponent from '@/components/NavbarComponent.vue';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      jogosDestaque: [],\n      capasJogos: {}\n    };\n  },\n  components: {\n    InfoComponent,\n    BannerComponent,\n    NavbarComponent\n  },\n  mounted() {\n    this.carregaJogosDestaque();\n  },\n  methods: {\n    async carregaJogosDestaque() {\n      const body = `\n      fields game_id; sort value desc; limit 10; where popularity_type = 1;\n      `;\n      try {\n        const response = await axios.post(\"/v4/popularity_primitives\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        });\n        let jogosDestaqueId = response.data;\n        jogosDestaqueId = jogosDestaqueId.map(e => e.game_id);\n        this.jogosDestaque = await this.encontraJogos(jogosDestaqueId);\n      } catch (error) {\n        console.error(\"Erro: \" + error);\n      }\n    },\n    async encontraJogos(jogosId) {\n      const body = `fields *; where id = (${jogosId.join(', ')});`;\n      try {\n        const response = await axios.post(\"/v4/games\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        });\n        await this.carregaCapas(jogosId);\n        return response.data;\n      } catch (error) {\n        console.error(\"Erro: \" + error);\n      }\n    },\n    async carregaCapas(jogosId) {\n      const requests = jogosId.map(async id => {\n        console.log(\"Id: \" + id);\n        const body = `fields url; where game = ${id}; limit 1;`;\n        try {\n          const response = await axios.post(\"/v4/covers\", body, {\n            headers: {\n              'Accept': 'application/json',\n              'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n              'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n              'Content-Type': 'text/plain'\n            }\n          });\n          let imagem = response.data[0];\n          if (imagem && imagem.url) {\n            this.capasJogos[id] = imagem.url.replace(\"thumb\", \"720p\");\n          }\n        } catch (error) {\n          console.error(\"Erro carregando imagem: \" + error);\n        }\n      });\n      await Promise.all(requests);\n      console.log(this.capasJogos);\n    }\n  },\n  watch: {}\n};","map":{"version":3,"names":["axios","InfoComponent","BannerComponent","NavbarComponent","name","data","jogosDestaque","capasJogos","components","mounted","carregaJogosDestaque","methods","body","response","post","headers","jogosDestaqueId","map","e","game_id","encontraJogos","error","console","jogosId","join","carregaCapas","requests","id","log","imagem","url","replace","Promise","all","watch"],"sources":["C:\\Users\\joao.savioli\\Desktop\\Playfolio project\\playfolio-frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <NavbarComponent />\n\n  <BannerComponent />\n  <InfoComponent />\n</template>\n\n<script>\nimport axios from 'axios';\nimport InfoComponent from '@/components/InfoComponent.vue';\nimport BannerComponent from '@/components/BannerComponent.vue';\nimport NavbarComponent from '@/components/NavbarComponent.vue';\n\nexport default {\n\n  name: 'HomeView',\n  data() {\n    return {\n      jogosDestaque: [],\n      capasJogos: {}\n    }\n  },\n  components: {\n    InfoComponent,\n    BannerComponent,\n    NavbarComponent\n  },\n  mounted() {\n    this.carregaJogosDestaque()\n  },\n  methods: {\n    async carregaJogosDestaque() {\n      const body = `\n      fields game_id; sort value desc; limit 10; where popularity_type = 1;\n      `;\n\n      try {\n        const response = await axios.post(\"/v4/popularity_primitives\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        let jogosDestaqueId = response.data\n        jogosDestaqueId = jogosDestaqueId.map(e => e.game_id)\n        this.jogosDestaque = await this.encontraJogos(jogosDestaqueId)\n\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n    async encontraJogos(jogosId) {\n      const body = `fields *; where id = (${jogosId.join(', ')});`\n\n      try {\n        const response = await axios.post(\"/v4/games\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        await this.carregaCapas(jogosId)\n\n        return response.data\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n\n    async carregaCapas(jogosId) {\n      const requests = jogosId.map(async (id) => {\n        console.log(\"Id: \" + id)\n        const body = `fields url; where game = ${id}; limit 1;`\n        try {\n          const response = await axios.post(\"/v4/covers\", body, {\n            headers: {\n              'Accept': 'application/json',\n              'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n              'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n              'Content-Type': 'text/plain'\n            }\n          })\n          let imagem = response.data[0]\n          if (imagem && imagem.url) {\n            this.capasJogos[id] = imagem.url.replace(\"thumb\", \"720p\")\n          }\n        } catch (error) {\n          console.error(\"Erro carregando imagem: \" + error)\n        }\n      })\n\n      await Promise.all(requests)\n      console.log(this.capasJogos)\n    }\n  },\n  watch: {\n  }\n}\n</script>\n\n<style scoped>\n.inner-shadow {\n  -webkit-box-shadow: inset 10px -9px 45px -36px rgba(0, 0, 0, 0.6);\n  -moz-box-shadow: inset 10px -9px 45px -36px rgba(0, 0, 0, 0.6);\n  box-shadow: inset 10px -9px 45px -36px rgba(0, 0, 0, 0.6);\n}\n\n.gradiente-card {\n  background: rgb(38, 39, 41);\n  background: linear-gradient(0deg, rgba(38, 39, 41, 1) 0%, rgba(0, 0, 0, 0) 51%);\n}\n\n.card-area:hover .text-area {\n  height: 300px;\n  transition: all;\n  transition-duration: 300ms;\n}\n\n.card-area:hover .button-quero {\n  opacity: 1;\n  transition-duration: 300ms;\n  transform: translateY(-50px)\n}\n\n.clip-card {\n  clip-path: polygon(95% 0, 100% 5%, 100% 92%, 93% 100%, 4% 100%, 0 95%, 0% 44%, 3% 38%, 3% 19%, 0 15%, 0 5%, 5% 0);\n}\n\n.clip-rating {\n  clip-path: polygon(0 0, 100% 0, 100% 100%, 20% 100%, 0 70%);\n  aspect-ratio: 3/2;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}