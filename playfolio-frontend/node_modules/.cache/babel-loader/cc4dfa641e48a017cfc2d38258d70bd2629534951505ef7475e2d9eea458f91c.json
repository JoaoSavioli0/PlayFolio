{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nimport _imports_0 from '../assets/star.png';\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w-full\"\n};\nconst _hoisted_2 = {\n  class: \"w-full flex gap-x-8 mt-4 overflow-x-scroll py-2\"\n};\nconst _hoisted_3 = {\n  class: \"h-[350px] w-[250px] rounded-xl bg-[#010326] flex flex-col overflow-hidden shrink-0 relative border-2 border-[#F07EF2] box-glow-purple card-area\"\n};\nconst _hoisted_4 = {\n  class: \"w-full h-[200px] relative overflow-hidden relative image-area\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"end-[-1px] top-[-1px] rounded-bl-xl bg-[#F07EF2] px-2 flex absolute shrink-0 items-center shadow-sm shadow-[#fa7efc]\"\n};\nconst _hoisted_6 = {\n  class: \"ml-2 font-semibold text-glow-white\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4 text-area transition-all\"\n};\nconst _hoisted_9 = {\n  class: \"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.jogosDestaque.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n    class: \"text-3xl text-start text-glow-purple text-[#F07EF2]\"\n  }, \"Em destaque\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.jogosDestaque, jogo => {\n    return _openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [jogo.rating ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[0] || (_cache[0] = _createElementVNode(\"img\", {\n      src: _imports_0,\n      class: \"size-[18px]\"\n    }, null, -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(jogo.rating.toFixed(2)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"img\", {\n      src: $data.capasJogos[jogo.id],\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_7), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n      class: \"w-full h-full absolute gradiente-card top-0\"\n    }, null, -1 /* HOISTED */))]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h1\", _hoisted_9, _toDisplayString(jogo.name), 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n      class: \"w-full\"\n    }, [_createElementVNode(\"button\", {\n      class: \"rounded-lg h-[30px] w-full z-10 bg-[#F07EF2] font-medium text-glow-white opacity-0 absolute transition-all mb-[50px] button-quero -translate-y-2\"\n    }, \"Quero jogar\"), _createElementVNode(\"button\", {\n      class: \"rounded-lg h-[40px] w-full z-10 bg-[#723873] box-glow-purple cursor-pointer\"\n    }, [_createElementVNode(\"span\", {\n      class: \"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#010326] w-full -translate-y-[5px] pt-[2px] hover:-translate-y-0 transition-all font-medium text-lg\"\n    }, \"Já joguei\")])], -1 /* HOISTED */))])]);\n  }), 256 /* UNKEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["_imports_0","key","class","$data","jogosDestaque","length","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","jogo","_hoisted_3","_hoisted_4","rating","_hoisted_5","src","_hoisted_6","_toDisplayString","toFixed","_createCommentVNode","capasJogos","id","alt","_hoisted_7","_hoisted_8","_hoisted_9","name"],"sources":["C:\\Users\\joao.savioli\\Desktop\\Playfolio project\\playfolio-frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"w-full\" v-if=\"jogosDestaque.length\">\n    <h2 class=\"text-3xl text-start text-glow-purple text-[#F07EF2]\">Em destaque</h2>\n    <div class=\"w-full flex gap-x-8 mt-4 overflow-x-scroll py-2\">\n\n      <div\n        class=\"h-[350px] w-[250px] rounded-xl bg-[#010326] flex flex-col overflow-hidden shrink-0 relative border-2 border-[#F07EF2] box-glow-purple card-area\"\n        v-for=\"jogo in jogosDestaque\">\n\n        <div class=\"w-full h-[200px] relative overflow-hidden relative image-area\">\n\n          <div\n            class=\"end-[-1px] top-[-1px] rounded-bl-xl bg-[#F07EF2] px-2 flex absolute shrink-0 items-center shadow-sm shadow-[#fa7efc]\"\n            v-if=\"jogo.rating\">\n            <img src=\"../assets/star.png\" class=\"size-[18px]\">\n            <span class=\"ml-2 font-semibold text-glow-white\">{{ jogo.rating.toFixed(2) }}</span>\n          </div>\n\n          <img :src=\"capasJogos[jogo.id]\" alt=\"\">\n          <div class=\"w-full h-full absolute gradiente-card top-0\"></div>\n        </div>\n\n        <div class=\"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4 text-area transition-all\">\n          <h1 class=\"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\">\n            {{\n              jogo.name }}</h1>\n          <div class=\"w-full \">\n            <button\n              class=\"rounded-lg h-[30px] w-full z-10 bg-[#F07EF2] font-medium text-glow-white opacity-0 absolute transition-all mb-[50px] button-quero -translate-y-2\">Quero\n              jogar</button>\n            <button class=\"rounded-lg h-[40px] w-full z-10 bg-[#723873] box-glow-purple cursor-pointer\">\n              <span\n                class=\"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#010326] w-full -translate-y-[5px] pt-[2px] hover:-translate-y-0 transition-all font-medium text-lg \">Já\n                joguei</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n\n  name: 'HomeView',\n  data() {\n    return {\n      jogosDestaque: [],\n      capasJogos: {}\n    }\n  },\n  mounted() {\n    this.carregaJogosDestaque()\n  },\n  methods: {\n    async carregaJogosDestaque() {\n      const body = `\n      fields game_id; sort value desc; limit 10; where popularity_type = 1;\n      `;\n\n      try {\n        const response = await axios.post(\"/v4/popularity_primitives\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        let jogosDestaqueId = response.data\n        jogosDestaqueId = jogosDestaqueId.map(e => e.game_id)\n        this.jogosDestaque = await this.encontraJogos(jogosDestaqueId)\n\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n    async encontraJogos(jogosId) {\n      const body = `fields *; where id = (${jogosId.join(', ')});`\n\n      try {\n        const response = await axios.post(\"/v4/games\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        await this.carregaCapas(jogosId)\n\n        return response.data\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n\n    async carregaCapas(jogosId) {\n      const requests = jogosId.map(async (id) => {\n        console.log(\"Id: \" + id)\n        const body = `fields url; where game = ${id}; limit 1;`\n        try {\n          const response = await axios.post(\"/v4/covers\", body, {\n            headers: {\n              'Accept': 'application/json',\n              'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n              'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n              'Content-Type': 'text/plain'\n            }\n          })\n          let imagem = response.data[0]\n          if (imagem && imagem.url) {\n            this.capasJogos[id] = imagem.url.replace(\"thumb\", \"720p\")\n          }\n        } catch (error) {\n          console.error(\"Erro carregando imagem: \" + error)\n        }\n      })\n\n      await Promise.all(requests)\n      console.log(this.capasJogos)\n    }\n  },\n  watch: {\n  }\n}\n</script>\n\n<style>\n.gradiente-card {\n  background: rgb(1, 3, 38);\n  background: linear-gradient(0deg, rgba(1, 3, 38, 1) 0%, rgba(0, 0, 0, 0) 51%);\n}\n\n.card-area:hover .text-area {\n  height: 300px;\n  transition: all;\n  transition-duration: 300ms;\n}\n\n.card-area:hover .button-quero {\n  opacity: 1;\n  transition-duration: 300ms;\n  transform: translateY(0)\n}\n</style>\n"],"mappings":";OAciBA,UAAwB;;EAdzCC,GAAA;EACOC,KAAK,EAAC;;;EAEJA,KAAK,EAAC;AAAiD;;EAGxDA,KAAK,EAAC;AAAiJ;;EAGlJA,KAAK,EAAC;AAA+D;;EATlFD,GAAA;EAYYC,KAAK,EAAC;;;EAGAA,KAAK,EAAC;AAAoC;mBAf5D;;EAsBaA,KAAK,EAAC;AAAwF;;EAC7FA,KAAK,EAAC;AAAmG;;SAtB3FC,KAAA,CAAAC,aAAa,CAACC,MAAM,I,cAA9CC,mBAAA,CAuCM,OAvCNC,UAuCM,G,0BAtCJC,mBAAA,CAAgF;IAA5EN,KAAK,EAAC;EAAqD,GAAC,aAAW,sBAC3EM,mBAAA,CAoCM,OApCNC,UAoCM,I,kBAlCJH,mBAAA,CAgCMI,SAAA,QArCZC,WAAA,CAOuBR,KAAA,CAAAC,aAAa,EAArBQ,IAAI;yBAFbN,mBAAA,CAgCM,OAhCNO,UAgCM,GA5BJL,mBAAA,CAWM,OAXNM,UAWM,GAPIF,IAAI,CAACG,MAAM,I,cAFnBT,mBAAA,CAKM,OALNU,UAKM,G,0BAFJR,mBAAA,CAAkD;MAA7CS,GAAwB,EAAxBjB,UAAwB;MAACE,KAAK,EAAC;iCACpCM,mBAAA,CAAoF,QAApFU,UAAoF,EAAAC,gBAAA,CAAhCP,IAAI,CAACG,MAAM,CAACK,OAAO,oB,KAfnFC,mBAAA,gBAkBUb,mBAAA,CAAuC;MAAjCS,GAAG,EAAEd,KAAA,CAAAmB,UAAU,CAACV,IAAI,CAACW,EAAE;MAAGC,GAAG,EAAC;4BAlB9CC,UAAA,G,0BAmBUjB,mBAAA,CAA+D;MAA1DN,KAAK,EAAC;IAA6C,4B,GAG1DM,mBAAA,CAcM,OAdNkB,UAcM,GAbJlB,mBAAA,CAEqB,MAFrBmB,UAEqB,EAAAR,gBAAA,CAAjBP,IAAI,CAACgB,IAAI,kB,0BACbpB,mBAAA,CASM;MATDN,KAAK,EAAC;IAAS,IAClBM,mBAAA,CAEgB;MADdN,KAAK,EAAC;IAAkJ,GAAC,aACpJ,GACPM,mBAAA,CAIS;MAJDN,KAAK,EAAC;IAA6E,IACzFM,mBAAA,CAEe;MADbN,KAAK,EAAC;IAA8K,GAAC,WAC/K,E;0CAjCtBmB,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}