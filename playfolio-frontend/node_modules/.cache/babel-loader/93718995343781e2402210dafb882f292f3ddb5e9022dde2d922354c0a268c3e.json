{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"px-24\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"w-full\"\n};\nconst _hoisted_3 = {\n  class: \"w-full flex gap-x-8 mt-4 overflow-x-scroll py-2\"\n};\nconst _hoisted_4 = {\n  class: \"relative\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"end-[-1px] top-[-10px] px-2 justify-center flex absolute shrink-0 items-center clip-rating bg-[#1A1B1E] z-50\"\n};\nconst _hoisted_6 = {\n  class: \"ml-2 font-semibold text-glow-white\"\n};\nconst _hoisted_7 = {\n  class: \"h-[350px] w-[250px] clip-card bg-[#262729] flex flex-col shrink-0 relative card-area\"\n};\nconst _hoisted_8 = {\n  class: \"w-full h-[200px] relative overflow-hidden relative image-area z-40\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = {\n  class: \"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4 text-area transition-all\"\n};\nconst _hoisted_11 = {\n  class: \"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavbarComponent = _resolveComponent(\"NavbarComponent\");\n  const _component_BannerComponent = _resolveComponent(\"BannerComponent\");\n  const _component_InfoComponent = _resolveComponent(\"InfoComponent\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_NavbarComponent), _createElementVNode(\"section\", _hoisted_1, [$data.jogosDestaque.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"flex w-full items-center\"\n  }, [_createElementVNode(\"div\", {\n    class: \"whitespace-nowrap\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"text-3xl text-start text-glow-purple text-[#F07EF2] pr-6\"\n  }, \"Em destaque\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.jogosDestaque, jogo => {\n    return _openBlock(), _createElementBlock(\"div\", _hoisted_4, [jogo.rating ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createCommentVNode(\" <img src=\\\"../assets/star.png\\\" class=\\\"size-[18px]\\\"> \"), _createElementVNode(\"span\", _hoisted_6, _toDisplayString((jogo.rating / 10).toFixed(1)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"img\", {\n      src: $data.capasJogos[jogo.id],\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_9), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n      class: \"w-full h-full absolute gradiente-card top-0\"\n    }, null, -1 /* HOISTED */))]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h1\", _hoisted_11, _toDisplayString(jogo.name), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n      class: \"w-full relative\"\n    }, [_createElementVNode(\"button\", {\n      class: \"rounded-lg h-[35px] w-full z-10 border-2 border-[#F07EF2] box-glow-purple font-medium text-glow-white opacity-0 absolute transition-all button-quero -translate-y-2 cursor-pointer\"\n    }, \"Quero jogar\"), _createElementVNode(\"button\", {\n      class: \"rounded-lg h-[40px] w-full z-10 bg-[#3d1f3d] box-glow-purple cursor-pointer\"\n    }, [_createElementVNode(\"span\", {\n      class: \"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#262729] w-full translate-y-0 pt-[2px] hover:-translate-y-[5px] transition-all font-medium text-lg\"\n    }, \"Já joguei\")])], -1 /* HOISTED */))])])]);\n  }), 256 /* UNKEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_BannerComponent), _createVNode(_component_InfoComponent)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","_createVNode","_component_NavbarComponent","_createElementVNode","_hoisted_1","$data","jogosDestaque","length","_hoisted_2","_hoisted_3","_renderList","jogo","_hoisted_4","rating","_hoisted_5","_createCommentVNode","_hoisted_6","_toDisplayString","toFixed","_hoisted_7","_hoisted_8","src","capasJogos","id","alt","_hoisted_9","_hoisted_10","_hoisted_11","name","_component_BannerComponent","_component_InfoComponent"],"sources":["C:\\Users\\joao.savioli\\Desktop\\Playfolio project\\playfolio-frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <NavbarComponent />\n  <section class=\"px-24\">\n    <div class=\"w-full\" v-if=\"jogosDestaque.length\">\n      <div class=\"flex w-full items-center\">\n        <div class=\"whitespace-nowrap\">\n          <h2 class=\"text-3xl text-start text-glow-purple text-[#F07EF2] pr-6\">Em destaque</h2>\n        </div>\n      </div>\n      <div class=\"w-full flex gap-x-8 mt-4 overflow-x-scroll py-2\">\n\n        <div class=\"relative\" v-for=\"jogo in jogosDestaque\">\n\n          <div\n            class=\"end-[-1px] top-[-10px] px-2 justify-center flex absolute shrink-0 items-center clip-rating bg-[#1A1B1E] z-50\"\n            v-if=\"jogo.rating\">\n            <!-- <img src=\"../assets/star.png\" class=\"size-[18px]\"> -->\n            <span class=\"ml-2 font-semibold text-glow-white\">{{ (jogo.rating / 10).toFixed(1) }}</span>\n          </div>\n\n          <div class=\"h-[350px] w-[250px] clip-card bg-[#262729] flex flex-col shrink-0 relative  card-area\">\n\n            <div class=\"w-full h-[200px] relative overflow-hidden relative image-area z-40\">\n              <img :src=\"capasJogos[jogo.id]\" alt=\"\">\n              <div class=\"w-full h-full absolute gradiente-card top-0\"></div>\n            </div>\n\n            <div class=\"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4 text-area transition-all\">\n              <h1\n                class=\"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\">\n                {{\n                  jogo.name }}</h1>\n              <div class=\"w-full relative\">\n                <button\n                  class=\"rounded-lg h-[35px] w-full z-10 border-2 border-[#F07EF2] box-glow-purple font-medium text-glow-white opacity-0 absolute transition-all button-quero -translate-y-2 cursor-pointer\">Quero\n                  jogar</button>\n                <button class=\"rounded-lg h-[40px] w-full z-10 bg-[#3d1f3d] box-glow-purple cursor-pointer\">\n                  <span\n                    class=\"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#262729] w-full translate-y-0 pt-[2px] hover:-translate-y-[5px] transition-all font-medium text-lg \">Já\n                    joguei</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <BannerComponent />\n    <InfoComponent />\n  </section>\n</template>\n\n<script>\nimport axios from 'axios';\nimport InfoComponent from '@/components/InfoComponent.vue';\nimport BannerComponent from '@/components/BannerComponent.vue';\nimport NavbarComponent from '@/components/NavbarComponent.vue';\n\nexport default {\n\n  name: 'HomeView',\n  data() {\n    return {\n      jogosDestaque: [],\n      capasJogos: {}\n    }\n  },\n  components: {\n    InfoComponent,\n    BannerComponent,\n    NavbarComponent\n  },\n  mounted() {\n    this.carregaJogosDestaque()\n  },\n  methods: {\n    async carregaJogosDestaque() {\n      const body = `\n      fields game_id; sort value desc; limit 10; where popularity_type = 1;\n      `;\n\n      try {\n        const response = await axios.post(\"/v4/popularity_primitives\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        let jogosDestaqueId = response.data\n        jogosDestaqueId = jogosDestaqueId.map(e => e.game_id)\n        this.jogosDestaque = await this.encontraJogos(jogosDestaqueId)\n\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n    async encontraJogos(jogosId) {\n      const body = `fields *; where id = (${jogosId.join(', ')});`\n\n      try {\n        const response = await axios.post(\"/v4/games\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        await this.carregaCapas(jogosId)\n\n        return response.data\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n\n    async carregaCapas(jogosId) {\n      const requests = jogosId.map(async (id) => {\n        console.log(\"Id: \" + id)\n        const body = `fields url; where game = ${id}; limit 1;`\n        try {\n          const response = await axios.post(\"/v4/covers\", body, {\n            headers: {\n              'Accept': 'application/json',\n              'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n              'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n              'Content-Type': 'text/plain'\n            }\n          })\n          let imagem = response.data[0]\n          if (imagem && imagem.url) {\n            this.capasJogos[id] = imagem.url.replace(\"thumb\", \"720p\")\n          }\n        } catch (error) {\n          console.error(\"Erro carregando imagem: \" + error)\n        }\n      })\n\n      await Promise.all(requests)\n      console.log(this.capasJogos)\n    }\n  },\n  watch: {\n  }\n}\n</script>\n\n<style scoped>\n.inner-shadow {\n  -webkit-box-shadow: inset 10px -9px 45px -36px rgba(0, 0, 0, 0.6);\n  -moz-box-shadow: inset 10px -9px 45px -36px rgba(0, 0, 0, 0.6);\n  box-shadow: inset 10px -9px 45px -36px rgba(0, 0, 0, 0.6);\n}\n\n.gradiente-card {\n  background: rgb(38, 39, 41);\n  background: linear-gradient(0deg, rgba(38, 39, 41, 1) 0%, rgba(0, 0, 0, 0) 51%);\n}\n\n.card-area:hover .text-area {\n  height: 300px;\n  transition: all;\n  transition-duration: 300ms;\n}\n\n.card-area:hover .button-quero {\n  opacity: 1;\n  transition-duration: 300ms;\n  transform: translateY(-50px)\n}\n\n.clip-card {\n  clip-path: polygon(95% 0, 100% 5%, 100% 92%, 93% 100%, 4% 100%, 0 95%, 0% 44%, 3% 38%, 3% 19%, 0 15%, 0 5%, 5% 0);\n}\n\n.clip-rating {\n  clip-path: polygon(0 0, 100% 0, 100% 100%, 20% 100%, 0 70%);\n  aspect-ratio: 3/2;\n}\n</style>\n"],"mappings":";;EAEWA,KAAK,EAAC;AAAO;;EAFxBC,GAAA;EAGSD,KAAK,EAAC;;;EAMJA,KAAK,EAAC;AAAiD;;EAErDA,KAAK,EAAC;AAAU;;EAX7BC,GAAA;EAcYD,KAAK,EAAC;;;EAGAA,KAAK,EAAC;AAAoC;;EAG7CA,KAAK,EAAC;AAAuF;;EAE3FA,KAAK,EAAC;AAAoE;mBAtB3F;;EA2BiBA,KAAK,EAAC;AAAwF;;EAE/FA,KAAK,EAAC;AAAmG;;;;;uBA7BzHE,mBAAA,CAAAC,SAAA,SACEC,YAAA,CAAmBC,0BAAA,GACnBC,mBAAA,CAgDU,WAhDVC,UAgDU,GA/CkBC,KAAA,CAAAC,aAAa,CAACC,MAAM,I,cAA9CR,mBAAA,CA4CM,OA5CNS,UA4CM,G,0BA3CJL,mBAAA,CAIM;IAJDN,KAAK,EAAC;EAA0B,IACnCM,mBAAA,CAEM;IAFDN,KAAK,EAAC;EAAmB,IAC5BM,mBAAA,CAAqF;IAAjFN,KAAK,EAAC;EAA0D,GAAC,aAAW,E,wBAGpFM,mBAAA,CAqCM,OArCNM,UAqCM,I,kBAnCJV,mBAAA,CAiCMC,SAAA,QA5CdU,WAAA,CAW6CL,KAAA,CAAAC,aAAa,EAArBK,IAAI;yBAAjCZ,mBAAA,CAiCM,OAjCNa,UAiCM,GA7BID,IAAI,CAACE,MAAM,I,cAFnBd,mBAAA,CAKM,OALNe,UAKM,GAFJC,mBAAA,4DAA2D,EAC3DZ,mBAAA,CAA2F,QAA3Fa,UAA2F,EAAAC,gBAAA,EAAtCN,IAAI,CAACE,MAAM,OAAOK,OAAO,oB,KAjB1FH,mBAAA,gBAoBUZ,mBAAA,CAuBM,OAvBNgB,UAuBM,GArBJhB,mBAAA,CAGM,OAHNiB,UAGM,GAFJjB,mBAAA,CAAuC;MAAjCkB,GAAG,EAAEhB,KAAA,CAAAiB,UAAU,CAACX,IAAI,CAACY,EAAE;MAAGC,GAAG,EAAC;4BAvBlDC,UAAA,G,0BAwBctB,mBAAA,CAA+D;MAA1DN,KAAK,EAAC;IAA6C,4B,GAG1DM,mBAAA,CAeM,OAfNuB,WAeM,GAdJvB,mBAAA,CAGqB,MAHrBwB,WAGqB,EAAAV,gBAAA,CAAjBN,IAAI,CAACiB,IAAI,kB,0BACbzB,mBAAA,CASM;MATDN,KAAK,EAAC;IAAiB,IAC1BM,mBAAA,CAEgB;MADdN,KAAK,EAAC;IAAoL,GAAC,aACtL,GACPM,mBAAA,CAIS;MAJDN,KAAK,EAAC;IAA6E,IACzFM,mBAAA,CAEe;MADbN,KAAK,EAAC;IAA6K,GAAC,WAC9K,E;0CAvC1BkB,mBAAA,gBAgDId,YAAA,CAAmB4B,0BAAA,GACnB5B,YAAA,CAAiB6B,wBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}