{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w-full\"\n};\nconst _hoisted_2 = {\n  class: \"w-full flex gap-x-8 mt-4 overflow-x-scroll\"\n};\nconst _hoisted_3 = {\n  class: \"h-[350px] w-[250px] rounded-xl bg-[#010326] flex flex-col overflow-hidden shrink-0 relative border-2 border-[#F07EF2] shadow-lg shadow-[#fa7efc]\"\n};\nconst _hoisted_4 = {\n  class: \"w-full h-[200px] relative overflow-hidden relative\"\n};\nconst _hoisted_5 = {\n  class: \"top-[5px] end-[5px] flex\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4\"\n};\nconst _hoisted_8 = {\n  class: \"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.jogosDestaque.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"h2\", {\n    class: \"text-3xl text-start text-glow-purple text-[#F07EF2]\"\n  }, \"Em destaque\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.jogosDestaque, jogo => {\n    return _openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(jogo.rating), 1 /* TEXT */), _createElementVNode(\"img\", {\n      src: $data.capasJogos[jogo.id],\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_6), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n      class: \"w-full h-full absolute gradiente-card top-0\"\n    }, null, -1 /* HOISTED */))]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h1\", _hoisted_8, _toDisplayString(jogo.name), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n      class: \"w-full\"\n    }, [_createElementVNode(\"button\", {\n      class: \"rounded-lg h-[40px] w-full z-10 bg-[#723873] box-glow-purple cursor-pointer\"\n    }, [_createElementVNode(\"span\", {\n      class: \"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#010326] w-full -translate-y-[5px] pt-[2px] hover:-translate-y-0 transition-all transition-3s font-medium text-lg\"\n    }, \"Já joguei!\")])], -1 /* HOISTED */))])]);\n  }), 256 /* UNKEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","$data","jogosDestaque","length","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","jogo","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","rating","src","capasJogos","id","alt","_hoisted_6","_hoisted_7","_hoisted_8","name","_createCommentVNode"],"sources":["C:\\Users\\joao.savioli\\Desktop\\Playfolio project\\playfolio-frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"w-full\" v-if=\"jogosDestaque.length\">\n    <h2 class=\"text-3xl text-start text-glow-purple text-[#F07EF2]\">Em destaque</h2>\n    <div class=\"w-full flex gap-x-8 mt-4 overflow-x-scroll \">\n\n      <div\n        class=\"h-[350px] w-[250px] rounded-xl bg-[#010326] flex flex-col overflow-hidden shrink-0 relative border-2 border-[#F07EF2] shadow-lg shadow-[#fa7efc]\"\n        v-for=\"jogo in jogosDestaque\">\n\n        <div class=\"w-full h-[200px] relative overflow-hidden relative\">\n          <div class=\"top-[5px] end-[5px] flex\">{{ jogo.rating }}</div>\n          <img :src=\"capasJogos[jogo.id]\" alt=\"\">\n          <div class=\"w-full h-full absolute gradiente-card top-0\"></div>\n        </div>\n        <div class=\"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4\">\n          <h1 class=\"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\">\n            {{\n              jogo.name }}</h1>\n          <div class=\"w-full\">\n            <button class=\"rounded-lg h-[40px] w-full z-10 bg-[#723873] box-glow-purple cursor-pointer\">\n              <span\n                class=\"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#010326] w-full -translate-y-[5px] pt-[2px] hover:-translate-y-0 transition-all transition-3s font-medium text-lg\">Já\n                joguei!</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n\n  name: 'HomeView',\n  data() {\n    return {\n      jogosDestaque: [],\n      capasJogos: {}\n    }\n  },\n  mounted() {\n    this.carregaJogosDestaque()\n  },\n  methods: {\n    async carregaJogosDestaque() {\n      const body = `\n      fields game_id; sort value desc; limit 10; where popularity_type = 1;\n      `;\n\n      try {\n        const response = await axios.post(\"/v4/popularity_primitives\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        let jogosDestaqueId = response.data\n        jogosDestaqueId = jogosDestaqueId.map(e => e.game_id)\n        this.jogosDestaque = await this.encontraJogos(jogosDestaqueId)\n\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n    async encontraJogos(jogosId) {\n      const body = `fields *; where id = (${jogosId.join(', ')});`\n\n      try {\n        const response = await axios.post(\"/v4/games\", body, {\n          headers: {\n            'Accept': 'application/json',\n            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n            'Content-Type': 'text/plain'\n          }\n        })\n        await this.carregaCapas(jogosId)\n\n        return response.data\n      } catch (error) {\n        console.error(\"Erro: \" + error)\n      }\n\n    },\n\n    async carregaCapas(jogosId) {\n      const requests = jogosId.map(async (id) => {\n        console.log(\"Id: \" + id)\n        const body = `fields url; where game = ${id}; limit 1;`\n        try {\n          const response = await axios.post(\"/v4/covers\", body, {\n            headers: {\n              'Accept': 'application/json',\n              'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\n              'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\n              'Content-Type': 'text/plain'\n            }\n          })\n          let imagem = response.data[0]\n          if (imagem && imagem.url) {\n            this.capasJogos[id] = imagem.url.replace(\"thumb\", \"720p\")\n          }\n        } catch (error) {\n          console.error(\"Erro carregando imagem: \" + error)\n        }\n      })\n\n      await Promise.all(requests)\n      console.log(this.capasJogos)\n    }\n  },\n  watch: {\n  }\n}\n</script>\n\n<style>\n.gradiente-card {\n  background: rgb(1, 3, 38);\n  background: linear-gradient(0deg, rgba(1, 3, 38, 1) 0%, rgba(0, 0, 0, 0) 51%);\n}\n</style>\n"],"mappings":";;EAAAA,GAAA;EACOC,KAAK,EAAC;;;EAEJA,KAAK,EAAC;AAA6C;;EAGpDA,KAAK,EAAC;AAAkJ;;EAGnJA,KAAK,EAAC;AAAoD;;EACxDA,KAAK,EAAC;AAA0B;mBAV/C;;EAcaA,KAAK,EAAC;AAA+D;;EACpEA,KAAK,EAAC;AAAmG;;SAd3FC,KAAA,CAAAC,aAAa,CAACC,MAAM,I,cAA9CC,mBAAA,CA4BM,OA5BNC,UA4BM,G,0BA3BJC,mBAAA,CAAgF;IAA5EN,KAAK,EAAC;EAAqD,GAAC,aAAW,sBAC3EM,mBAAA,CAyBM,OAzBNC,UAyBM,I,kBAvBJH,mBAAA,CAqBMI,SAAA,QA1BZC,WAAA,CAOuBR,KAAA,CAAAC,aAAa,EAArBQ,IAAI;yBAFbN,mBAAA,CAqBM,OArBNO,UAqBM,GAjBJL,mBAAA,CAIM,OAJNM,UAIM,GAHJN,mBAAA,CAA6D,OAA7DO,UAA6D,EAAAC,gBAAA,CAApBJ,IAAI,CAACK,MAAM,kBACpDT,mBAAA,CAAuC;MAAjCU,GAAG,EAAEf,KAAA,CAAAgB,UAAU,CAACP,IAAI,CAACQ,EAAE;MAAGC,GAAG,EAAC;4BAX9CC,UAAA,G,0BAYUd,mBAAA,CAA+D;MAA1DN,KAAK,EAAC;IAA6C,4B,GAE1DM,mBAAA,CAWM,OAXNe,UAWM,GAVJf,mBAAA,CAEqB,MAFrBgB,UAEqB,EAAAR,gBAAA,CAAjBJ,IAAI,CAACa,IAAI,kB,0BACbjB,mBAAA,CAMM;MANDN,KAAK,EAAC;IAAQ,IACjBM,mBAAA,CAIS;MAJDN,KAAK,EAAC;IAA6E,IACzFM,mBAAA,CAEgB;MADdN,KAAK,EAAC;IAA2L,GAAC,YAC3L,E;0CAtBvBwB,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}