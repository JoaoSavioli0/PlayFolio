{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w-full px-24\"\n};\nconst _hoisted_2 = {\n  class: \"w-full flex gap-x-8 mt-4 overflow-x-scroll py-2\"\n};\nconst _hoisted_3 = {\n  class: \"relative\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"end-0 top-0 px-2 justify-center flex absolute shrink-0 items-center bg-[#1A1B1E] z-50\"\n};\nconst _hoisted_5 = {\n  class: \"ml-2 font-semibold text-glow-white\"\n};\nconst _hoisted_6 = {\n  class: \"h-[320px] w-[200px] clip-card bg-[#262729] flex flex-col shrink-0 relative card-area rounded-xl overflow-hidden border-[1px] border-zinc-600\"\n};\nconst _hoisted_7 = {\n  class: \"w-full h-[200px] relative overflow-hidden relative image-area z-40\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4 text-area transition-all\"\n};\nconst _hoisted_10 = {\n  class: \"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.jogosDestaque.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"flex w-full items-center\"\n  }, [_createElementVNode(\"div\", {\n    class: \"whitespace-nowrap\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"text-3xl text-start text-zinc-50\"\n  }, \"DESTAQUES\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.jogosDestaque, jogo => {\n    return _openBlock(), _createElementBlock(\"div\", _hoisted_3, [jogo.rating ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createCommentVNode(\" <img src=\\\"../assets/star.png\\\" class=\\\"size-[18px]\\\"> \"), _createElementVNode(\"span\", _hoisted_5, _toDisplayString((jogo.rating / 10).toFixed(1)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n      src: $data.capasJogos[jogo.id],\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_8), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n      class: \"w-full h-full absolute gradiente-card top-0\"\n    }, null, -1 /* HOISTED */))]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"h1\", _hoisted_10, _toDisplayString(jogo.name), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n      class: \"w-full relative\"\n    }, [_createElementVNode(\"button\", {\n      class: \"rounded-lg h-[35px] w-full z-10 border-2 border-[#F07EF2] box-glow-purple font-medium text-glow-white opacity-0 absolute transition-all button-quero -translate-y-2 cursor-pointer\"\n    }, \"Quero jogar\"), _createElementVNode(\"button\", {\n      class: \"rounded-lg h-[40px] w-full z-10 bg-[#3d1f3d] box-glow-purple cursor-pointer\"\n    }, [_createElementVNode(\"span\", {\n      class: \"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#262729] w-full translate-y-0 pt-[2px] hover:-translate-y-[5px] transition-all font-medium text-lg\"\n    }, \"Já joguei\")])], -1 /* HOISTED */))])])]);\n  }), 256 /* UNKEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","$data","jogosDestaque","length","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","jogo","_hoisted_3","rating","_hoisted_4","_createCommentVNode","_hoisted_5","_toDisplayString","toFixed","_hoisted_6","_hoisted_7","src","capasJogos","id","alt","_hoisted_8","_hoisted_9","_hoisted_10","name"],"sources":["C:\\Users\\joao.savioli\\Desktop\\Playfolio project\\playfolio-frontend\\src\\components\\DestaqueComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"w-full px-24\" v-if=\"jogosDestaque.length\">\r\n        <div class=\"flex w-full items-center\">\r\n            <div class=\"whitespace-nowrap\">\r\n                <h2 class=\"text-3xl text-start text-zinc-50\">DESTAQUES</h2>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full flex gap-x-8 mt-4 overflow-x-scroll py-2\">\r\n\r\n            <div class=\"relative\" v-for=\"jogo in jogosDestaque\">\r\n\r\n                <div class=\"end-0 top-0 px-2 justify-center flex absolute shrink-0 items-center bg-[#1A1B1E] z-50\"\r\n                    v-if=\"jogo.rating\">\r\n                    <!-- <img src=\"../assets/star.png\" class=\"size-[18px]\"> -->\r\n                    <span class=\"ml-2 font-semibold text-glow-white\">{{ (jogo.rating / 10).toFixed(1) }}</span>\r\n                </div>\r\n\r\n                <div\r\n                    class=\"h-[320px] w-[200px] clip-card bg-[#262729] flex flex-col shrink-0 relative card-area rounded-xl overflow-hidden border-[1px] border-zinc-600\">\r\n\r\n                    <div class=\"w-full h-[200px] relative overflow-hidden relative image-area z-40\">\r\n                        <img :src=\"capasJogos[jogo.id]\" alt=\"\">\r\n                        <div class=\"w-full h-full absolute gradiente-card top-0\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"w-full h-[150px] px-4 py-2 flex flex-col justify-between pb-4 text-area transition-all\">\r\n                        <h1\r\n                            class=\"text-start text-zinc-50 text-xl font-medium text-glow-white line-clamp-2 break-words hyphens-auto\">\r\n                            {{\r\n                                jogo.name }}</h1>\r\n                        <div class=\"w-full relative\">\r\n                            <button\r\n                                class=\"rounded-lg h-[35px] w-full z-10 border-2 border-[#F07EF2] box-glow-purple font-medium text-glow-white opacity-0 absolute transition-all button-quero -translate-y-2 cursor-pointer\">Quero\r\n                                jogar</button>\r\n                            <button class=\"rounded-lg h-[40px] w-full z-10 bg-[#3d1f3d] box-glow-purple cursor-pointer\">\r\n                                <span\r\n                                    class=\"block text-glow-white h-[40px] rounded-lg border-2 border-[#F07EF2] bg-[#262729] w-full translate-y-0 pt-[2px] hover:-translate-y-[5px] transition-all font-medium text-lg \">Já\r\n                                    joguei</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"Destaque\",\r\n    data() {\r\n        return {\r\n            jogosDestaque: [],\r\n            capasJogos: {}\r\n        }\r\n    },\r\n    mounted() {\r\n        this.carregaJogosDestaque()\r\n    },\r\n    methods: {\r\n        async carregaJogosDestaque() {\r\n            const body = `\r\n      fields game_id; sort value desc; limit 10; where popularity_type = 1;\r\n      `;\r\n\r\n            try {\r\n                const response = await axios.post(\"/v4/popularity_primitives\", body, {\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\r\n                        'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\r\n                        'Content-Type': 'text/plain'\r\n                    }\r\n                })\r\n                let jogosDestaqueId = response.data\r\n                jogosDestaqueId = jogosDestaqueId.map(e => e.game_id)\r\n                this.jogosDestaque = await this.encontraJogos(jogosDestaqueId)\r\n\r\n            } catch (error) {\r\n                console.error(\"Erro: \" + error)\r\n            }\r\n\r\n        },\r\n        async encontraJogos(jogosId) {\r\n            const body = `fields *; where id = (${jogosId.join(', ')});`\r\n\r\n            try {\r\n                const response = await axios.post(\"/v4/games\", body, {\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\r\n                        'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\r\n                        'Content-Type': 'text/plain'\r\n                    }\r\n                })\r\n                await this.carregaCapas(jogosId)\r\n\r\n                return response.data\r\n            } catch (error) {\r\n                console.error(\"Erro: \" + error)\r\n            }\r\n\r\n        },\r\n\r\n        async carregaCapas(jogosId) {\r\n            const requests = jogosId.map(async (id) => {\r\n                console.log(\"Id: \" + id)\r\n                const body = `fields url; where game = ${id}; limit 1;`\r\n                try {\r\n                    const response = await axios.post(\"/v4/covers\", body, {\r\n                        headers: {\r\n                            'Accept': 'application/json',\r\n                            'Client-ID': \"i79ndcjylui2396ezi2v752sc9dze0\",\r\n                            'Authorization': `Bearer h6v8ywcqhwyyhj140u70v95rss6sga`,\r\n                            'Content-Type': 'text/plain'\r\n                        }\r\n                    })\r\n                    let imagem = response.data[0]\r\n                    if (imagem && imagem.url) {\r\n                        this.capasJogos[id] = imagem.url.replace(\"thumb\", \"720p\")\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Erro carregando imagem: \" + error)\r\n                }\r\n            })\r\n\r\n            await Promise.all(requests)\r\n            console.log(this.capasJogos)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.gradiente-card {\r\n    background: rgb(38, 39, 41);\r\n    background: linear-gradient(0deg, rgba(38, 39, 41, 1) 0%, rgba(0, 0, 0, 0) 51%);\r\n}\r\n\r\n.card-area:hover .text-area {\r\n    height: 300px;\r\n    transition: all;\r\n    transition-duration: 300ms;\r\n}\r\n\r\n.card-area:hover .button-quero {\r\n    opacity: 1;\r\n    transition-duration: 300ms;\r\n    transform: translateY(-50px)\r\n}\r\n</style>"],"mappings":";;EAAAA,GAAA;EACSC,KAAK,EAAC;;;EAMFA,KAAK,EAAC;AAAiD;;EAEnDA,KAAK,EAAC;AAAU;;EATjCD,GAAA;EAWqBC,KAAK,EAAC;;;EAGDA,KAAK,EAAC;AAAoC;;EAIhDA,KAAK,EAAC;AAA8I;;EAE/IA,KAAK,EAAC;AAAoE;mBApBnG;;EAyByBA,KAAK,EAAC;AAAwF;;EAE3FA,KAAK,EAAC;AAAmG;;SA1BjGC,KAAA,CAAAC,aAAa,CAACC,MAAM,I,cAApDC,mBAAA,CA4CM,OA5CNC,UA4CM,G,0BA3CFC,mBAAA,CAIM;IAJDN,KAAK,EAAC;EAA0B,IACjCM,mBAAA,CAEM;IAFDN,KAAK,EAAC;EAAmB,IAC1BM,mBAAA,CAA2D;IAAvDN,KAAK,EAAC;EAAkC,GAAC,WAAS,E,wBAG9DM,mBAAA,CAqCM,OArCNC,UAqCM,I,kBAnCFH,mBAAA,CAiCMI,SAAA,QA1ClBC,WAAA,CASiDR,KAAA,CAAAC,aAAa,EAArBQ,IAAI;yBAAjCN,mBAAA,CAiCM,OAjCNO,UAiCM,GA9BQD,IAAI,CAACE,MAAM,I,cADrBR,mBAAA,CAIM,OAJNS,UAIM,GAFFC,mBAAA,4DAA2D,EAC3DR,mBAAA,CAA2F,QAA3FS,UAA2F,EAAAC,gBAAA,EAAtCN,IAAI,CAACE,MAAM,OAAOK,OAAO,oB,KAdlGH,mBAAA,gBAiBgBR,mBAAA,CAwBM,OAxBNY,UAwBM,GArBFZ,mBAAA,CAGM,OAHNa,UAGM,GAFFb,mBAAA,CAAuC;MAAjCc,GAAG,EAAEnB,KAAA,CAAAoB,UAAU,CAACX,IAAI,CAACY,EAAE;MAAGC,GAAG,EAAC;4BArB5DC,UAAA,G,0BAsBwBlB,mBAAA,CAA+D;MAA1DN,KAAK,EAAC;IAA6C,4B,GAG5DM,mBAAA,CAeM,OAfNmB,UAeM,GAdFnB,mBAAA,CAGyB,MAHzBoB,WAGyB,EAAAV,gBAAA,CAAjBN,IAAI,CAACiB,IAAI,kB,0BACjBrB,mBAAA,CASM;MATDN,KAAK,EAAC;IAAiB,IACxBM,mBAAA,CAEkB;MADdN,KAAK,EAAC;IAAoL,GAAC,aACtL,GACTM,mBAAA,CAIS;MAJDN,KAAK,EAAC;IAA6E,IACvFM,mBAAA,CAEiB;MADbN,KAAK,EAAC;IAA6K,GAAC,WAC9K,E;0CArC1Cc,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}